# Esta función es la que gestiona todo el comienzo del juego, se encarga de equilibrar las partidas, de avisar si los equipos están desvalanceados y de que gente sin equipo no pueda comenzar la partida.
# This function is the one that manages the whole start of the game, it is in charge of balancing the games, of warning if the teams are out of balance and that people without equipment cannot start the game.
scoreboard players set control mace_blasters 0

execute store result score team_naranja mace_blasters if entity @a[team=sparks]
execute store result score team_azul mace_blasters if entity @a[team=clouds]

execute unless score team_azul mace_blasters = tamano_team mace_blasters run scoreboard players set control mace_blasters 1
execute unless score team_naranja mace_blasters = tamano_team mace_blasters run scoreboard players set control mace_blasters 1

execute unless entity @a run scoreboard players set control mace_blasters 2

# 2p, 3p, ...
execute if score #count jugadores matches 2.. if score enjuego mace_blasters matches 0 if score control mace_blasters matches 0 run tellraw @s [{"translate":"check_start_correct_game","with":[{"translate":"check_start_correct_game.1","color":"light_purple",bold:false},{"translate":"check_start_correct_game.2","color":"dark_purple", bold: true},{"translate":"check_start_correct_game.3","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"check_start_correct_game.4", "color": "green", bold: false},{"translate":"check_start_correct_game.5","color":"light_purple",bold:false},{"translate":"check_start_correct_game.6","color":"dark_purple", bold: true},{"translate":"check_start_correct_game.7","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"check_start_correct_game.8", "color": "green", bold: false}]}]
execute if score #count jugadores matches 2.. if score control mace_blasters matches 1 run tellraw @s [{"translate":"unbalanced","with":[{"translate":"unbalanced.1","color":"dark_red",bold:false},{"translate":"unbalanced.2","color":"red", bold: true},{"translate":"unbalanced.3","color":"red", bold: false},{"translate":"unbalanced.4", "color": "light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.5","color":"green", bold: true},{"translate":"unbalanced.6", "color": "dark_red", bold: false},{"translate":"unbalanced.7","color":"red",bold:true},{"translate":"unbalanced.8","color":"red", bold: false},{"translate":"unbalanced.9","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.10", "color": "green", bold: false}]}]
execute if score #count jugadores matches 2.. if score control mace_blasters matches 2 run tellraw @s [{"translate":"unbalanced","with":[{"translate":"unbalanced.1","color":"dark_red",bold:false},{"translate":"unbalanced.2","color":"red", bold: true},{"translate":"unbalanced.3","color":"red", bold: false},{"translate":"unbalanced.4", "color": "light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.5","color":"green", bold: true},{"translate":"unbalanced.6", "color": "dark_red", bold: false},{"translate":"unbalanced.7","color":"red",bold:true},{"translate":"unbalanced.8","color":"red", bold: false},{"translate":"unbalanced.9","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.10", "color": "green", bold: false}]}]

# 1p
execute as @s[team=sparks] if score #count jugadores matches 1 if score enjuego mace_blasters matches 0 if score control mace_blasters matches 0 run tellraw @s [{"translate":"check_start_correct_game","with":[{"translate":"check_start_correct_game.1","color":"light_purple",bold:false},{"translate":"check_start_correct_game.2","color":"dark_purple", bold: true},{"translate":"check_start_correct_game.3","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"check_start_correct_game.4", "color": "green", bold: false},{"translate":"check_start_correct_game.5","color":"light_purple",bold:false},{"translate":"check_start_correct_game.6","color":"dark_purple", bold: true},{"translate":"check_start_correct_game.7","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"check_start_correct_game.8", "color": "green", bold: false}]}]
execute as @s[team=clouds] if score #count jugadores matches 1 if score enjuego mace_blasters matches 0 if score control mace_blasters matches 0 run tellraw @s [{"translate":"check_start_correct_game","with":[{"translate":"check_start_correct_game.1","color":"light_purple",bold:false},{"translate":"check_start_correct_game.2","color":"dark_purple", bold: true},{"translate":"check_start_correct_game.3","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"check_start_correct_game.4", "color": "green", bold: false},{"translate":"check_start_correct_game.5","color":"light_purple",bold:false},{"translate":"check_start_correct_game.6","color":"dark_purple", bold: true},{"translate":"check_start_correct_game.7","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"check_start_correct_game.8", "color": "green", bold: false}]}]
execute as @s[team=no] if score enjuego mace_blasters matches 0 if score control mace_blasters matches 0 run tellraw @s [{"translate":"no_teams","color":"red","bold":true }]

execute as @s[team=sparks] if score #count jugadores matches 1 if score control mace_blasters matches 1 run tellraw @s [{"translate":"unbalanced","with":[{"translate":"unbalanced.1","color":"dark_red",bold:false},{"translate":"unbalanced.2","color":"red", bold: true},{"translate":"unbalanced.3","color":"red", bold: false},{"translate":"unbalanced.4", "color": "light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.5","color":"green", bold: true},{"translate":"unbalanced.6", "color": "dark_red", bold: false},{"translate":"unbalanced.7","color":"red",bold:true},{"translate":"unbalanced.8","color":"red", bold: false},{"translate":"unbalanced.9","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.10", "color": "green", bold: false}]}]
execute as @s[team=clouds] if score #count jugadores matches 1 if score control mace_blasters matches 1 run tellraw @s [{"translate":"unbalanced","with":[{"translate":"unbalanced.1","color":"dark_red",bold:false},{"translate":"unbalanced.2","color":"red", bold: true},{"translate":"unbalanced.3","color":"red", bold: false},{"translate":"unbalanced.4", "color": "light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.5","color":"green", bold: true},{"translate":"unbalanced.6", "color": "dark_red", bold: false},{"translate":"unbalanced.7","color":"red",bold:true},{"translate":"unbalanced.8","color":"red", bold: false},{"translate":"unbalanced.9","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.10", "color": "green", bold: false}]}]
execute as @s[team=no] if score control mace_blasters matches 1 run tellraw @s [{"translate":"no_teams","color":"red","bold":true }]

execute as @s[team=sparks] if score #count jugadores matches 1 if score control mace_blasters matches 2 run tellraw @s [{"translate":"unbalanced","with":[{"translate":"unbalanced.1","color":"dark_red",bold:false},{"translate":"unbalanced.2","color":"red", bold: true},{"translate":"unbalanced.3","color":"red", bold: false},{"translate":"unbalanced.4", "color": "light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.5","color":"green", bold: true},{"translate":"unbalanced.6", "color": "dark_red", bold: false},{"translate":"unbalanced.7","color":"red",bold:true},{"translate":"unbalanced.8","color":"red", bold: false},{"translate":"unbalanced.9","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.10", "color": "green", bold: false}]}]
execute as @s[team=clouds] if score #count jugadores matches 1 if score control mace_blasters matches 2 run tellraw @s [{"translate":"unbalanced","with":[{"translate":"unbalanced.1","color":"dark_red",bold:false},{"translate":"unbalanced.2","color":"red", bold: true},{"translate":"unbalanced.3","color":"red", bold: false},{"translate":"unbalanced.4", "color": "light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.5","color":"green", bold: true},{"translate":"unbalanced.6", "color": "dark_red", bold: false},{"translate":"unbalanced.7","color":"red",bold:true},{"translate":"unbalanced.8","color":"red", bold: false},{"translate":"unbalanced.9","color":"light_purple", bold: false},{"click_event":{"action":"run_command","command":"trigger force_start_mg set 1"},"translate":"unbalanced.10", "color": "green", bold: false}]}]
execute as @s[team=no] if score control mace_blasters matches 2 run tellraw @s [{"translate":"no_teams","color":"red","bold":true }]